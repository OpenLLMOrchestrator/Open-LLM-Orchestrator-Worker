{
  "configVersion": "1.0",
  "worker": { "queueName": "core-task-queue", "strictBoot": false },
  "temporal": { "target": "localhost:7233", "namespace": "default" },
  "activity": {
    "defaultTimeouts": { "scheduleToStartSeconds": 60, "startToCloseSeconds": 30, "scheduleToCloseSeconds": 300 },
    "retryPolicy": { "maximumAttempts": 3, "initialIntervalSeconds": 1, "backoffCoefficient": 2, "maximumIntervalSeconds": 60, "nonRetryableErrors": [] }
  },
  "redis": { "host": "localhost", "port": 6379, "password": "" },
  "database": { "url": "jdbc:postgresql://localhost:5432/olo_config", "username": "postgres", "password": "postgres" },
  "stageOrder": ["ACCESS", "MEMORY", "RETRIEVAL", "MODEL", "MCP", "TOOL", "FILTER", "POST_PROCESS", "OBSERVABILITY",   "CUSTOM"],
  "mergePolicies": {
    "DEFAULT_ASYNC": "LAST_WINS",
    "PREFIX_KEYS": "PREFIX_BY_ACTIVITY"
  },
  "pipelines": {
    "document-ingestion": {
      "defaultTimeoutSeconds": 60,
      "defaultAsyncCompletionPolicy": "ALL",
      "root": {
        "FILTER": {
          "type": "GROUP",
          "executionMode": "SYNC",
          "children": [
            { "type": "STAGE", "pluginType": "FilterPlugin", "name": "com.openllmorchestrator.worker.plugin.tokenizer.DocumentTokenizerPlugin" }
          ]
        },
        "RETRIEVAL": {
          "type": "GROUP",
          "executionMode": "SYNC",
          "children": [
            { "type": "STAGE", "pluginType": "VectorStorePlugin", "name": "com.openllmorchestrator.worker.plugin.vectordb.VectorStoreRetrievalPlugin" }
          ]
        }
      }
    },
    "document-ingestion-folder": {
      "defaultTimeoutSeconds": 120,
      "defaultAsyncCompletionPolicy": "ALL",
      "root": {
        "FILTER": {
          "type": "GROUP",
          "executionMode": "SYNC",
          "children": [
            { "type": "STAGE", "pluginType": "FilterPlugin", "name": "com.openllmorchestrator.worker.plugin.folder.FolderIngestionPlugin" }
          ]
        },
        "RETRIEVAL": {
          "type": "GROUP",
          "executionMode": "SYNC",
          "children": [
            { "type": "STAGE", "pluginType": "VectorStorePlugin", "name": "com.openllmorchestrator.worker.plugin.vectordb.VectorStoreRetrievalPlugin" }
          ]
        }
      }
    },
    "question-answer": {
      "defaultTimeoutSeconds": 90,
      "defaultAsyncCompletionPolicy": "ALL",
      "root": {
        "RETRIEVAL": {
          "type": "GROUP",
          "executionMode": "SYNC",
          "children": [
            { "type": "STAGE", "pluginType": "VectorStorePlugin", "name": "com.openllmorchestrator.worker.plugin.vectordb.VectorStoreRetrievalPlugin" }
          ]
        },
        "MODEL": {
          "type": "GROUP",
          "executionMode": "SYNC",
          "children": [
            { "type": "STAGE", "pluginType": "ModelPlugin", "name": "com.openllmorchestrator.worker.plugin.llm.Llama32ModelPlugin", "timeoutSeconds": 120 }
          ]
        }
      }
    }
  }
}
