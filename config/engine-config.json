{
    "configVersion": "1.0",
    "enabledFeatures": [
        "VERSIONED_STATE",
        "STAGE_RESULT_ENVELOPE",
        "EXECUTION_GRAPH",
        "PLANNER_PLAN_EXECUTOR",
        "INTERCEPTORS",
        "EXECUTION_SNAPSHOT"
    ],
    "worker": {
        "queueName": "core-task-queue",
        "strictBoot": false
    },
    "temporal": {
        "target": "localhost:7233",
        "namespace": "default"
    },
    "activity": {
        "payload": {
            "maxAccumulatedOutputKeys": 0,
            "maxResultOutputKeys": 0
        },
        "defaultTimeouts": {
            "scheduleToStartSeconds": 60,
            "startToCloseSeconds": 30,
            "scheduleToCloseSeconds": 300
        },
        "retryPolicy": {
            "maximumAttempts": 3,
            "initialIntervalSeconds": 1,
            "backoffCoefficient": 2,
            "maximumIntervalSeconds": 60,
            "nonRetryableErrors": [
            ]
        }
    },
    "redis": {
        "host": "localhost",
        "port": 6379,
        "password": ""
    },
    "database": {
        "url": "jdbc:postgresql://localhost:5432/olo_config",
        "username": "postgres",
        "password": "postgres"
    },
    "stageOrder": [
        "ACCESS",
        "PRE_CONTEXT_SETUP",
        "PLANNER",
        "PLAN_EXECUTOR",
        "EXECUTION_CONTROLLER",
        "ITERATIVE_BLOCK",
        "MODEL",
        "RETRIEVAL",
        "TOOL",
        "MCP",
        "MEMORY",
        "REFLECTION",
        "SUB_OBSERVABILITY",
        "SUB_CUSTOM",
        "ITERATIVE_BLOCK_END",
        "FILTER",
        "POST_PROCESS",
        "OBSERVABILITY",
        "CUSTOM"
    ],
    "mergePolicies": {
        "DEFAULT_ASYNC": "LAST_WINS",
        "PREFIX_KEYS": "PREFIX_BY_ACTIVITY"
    },
    "plugins": [
        "com.openllmorchestrator.worker.plugin.tokenizer.DocumentTokenizerPlugin",
        "com.openllmorchestrator.worker.plugin.vectordb.VectorStoreRetrievalPlugin",
        "com.openllmorchestrator.worker.plugin.folder.FolderIngestionPlugin",
        "com.openllmorchestrator.worker.plugin.llm.Llama32ModelPlugin",
        "com.openllmorchestrator.worker.plugin.llm.Llama32ChatPlugin",
        "com.openllmorchestrator.worker.plugin.llm.MistralChatPlugin",
        "com.openllmorchestrator.worker.plugin.llm.Llama32FixedChatPlugin",
        "com.openllmorchestrator.worker.plugin.llm.Phi3ChatPlugin",
        "com.openllmorchestrator.worker.plugin.llm.Gemma2_2bChatPlugin",
        "com.openllmorchestrator.worker.plugin.llm.Qwen2_1_5bChatPlugin",
        "com.openllmorchestrator.worker.plugin.output.AnswerFormatPlugin",
        "LAST_WINS",
        "FIRST_WINS",
        "PREFIX_BY_ACTIVITY",
        "ALL_MODELS_RESPONSE_FORMAT"
    ],
    "pipelines": {
        "document-ingestion": {
            "defaultTimeoutSeconds": 60,
            "defaultAsyncCompletionPolicy": "ALL",
            "root": {
                "FILTER": {
                    "type": "GROUP",
                    "executionMode": "SYNC",
                    "children": [
                        {
                            "type": "STAGE",
                            "pluginType": "FilterPlugin",
                            "name": "com.openllmorchestrator.worker.plugin.tokenizer.DocumentTokenizerPlugin"
                        }
                    ]
                },
                "RETRIEVAL": {
                    "type": "GROUP",
                    "executionMode": "SYNC",
                    "children": [
                        {
                            "type": "STAGE",
                            "pluginType": "VectorStorePlugin",
                            "name": "com.openllmorchestrator.worker.plugin.vectordb.VectorStoreRetrievalPlugin"
                        }
                    ]
                }
            }
        },
        "document-ingestion-folder": {
            "defaultTimeoutSeconds": 120,
            "defaultAsyncCompletionPolicy": "ALL",
            "root": {
                "FILTER": {
                    "type": "GROUP",
                    "executionMode": "SYNC",
                    "children": [
                        {
                            "type": "STAGE",
                            "pluginType": "FilterPlugin",
                            "name": "com.openllmorchestrator.worker.plugin.folder.FolderIngestionPlugin"
                        }
                    ]
                },
                "RETRIEVAL": {
                    "type": "GROUP",
                    "executionMode": "SYNC",
                    "children": [
                        {
                            "type": "STAGE",
                            "pluginType": "VectorStorePlugin",
                            "name": "com.openllmorchestrator.worker.plugin.vectordb.VectorStoreRetrievalPlugin"
                        }
                    ]
                }
            }
        },
        "question-answer": {
            "defaultTimeoutSeconds": 90,
            "defaultAsyncCompletionPolicy": "ALL",
            "root": {
                "RETRIEVAL": {
                    "type": "GROUP",
                    "executionMode": "SYNC",
                    "children": [
                        {
                            "type": "STAGE",
                            "pluginType": "VectorStorePlugin",
                            "name": "com.openllmorchestrator.worker.plugin.vectordb.VectorStoreRetrievalPlugin"
                        }
                    ]
                },
                "MODEL": {
                    "type": "GROUP",
                    "executionMode": "SYNC",
                    "children": [
                        {
                            "type": "STAGE",
                            "pluginType": "ModelPlugin",
                            "name": "com.openllmorchestrator.worker.plugin.llm.Llama32ModelPlugin",
                            "timeoutSeconds": 120
                        }
                    ]
                },
                "POST_PROCESS": {
                    "type": "GROUP",
                    "executionMode": "SYNC",
                    "children": [
                        {
                            "type": "STAGE",
                            "pluginType": "RefinementPlugin",
                            "name": "com.openllmorchestrator.worker.plugin.output.AnswerFormatPlugin"
                        }
                    ]
                }
            }
        },
        "llama-oss": {
            "defaultTimeoutSeconds": 90,
            "defaultAsyncCompletionPolicy": "ALL",
            "root": {
                "MODEL": {
                    "type": "GROUP",
                    "executionMode": "SYNC",
                    "children": [
                        {
                            "type": "STAGE",
                            "pluginType": "ModelPlugin",
                            "name": "com.openllmorchestrator.worker.plugin.llm.Llama32ChatPlugin",
                            "timeoutSeconds": 120
                        }
                    ]
                },
                "POST_PROCESS": {
                    "type": "GROUP",
                    "executionMode": "SYNC",
                    "children": [
                        {
                            "type": "STAGE",
                            "pluginType": "RefinementPlugin",
                            "name": "com.openllmorchestrator.worker.plugin.output.AnswerFormatPlugin"
                        }
                    ]
                }
            }
        },
        "openai-oss": {
            "defaultTimeoutSeconds": 90,
            "defaultAsyncCompletionPolicy": "ALL",
            "root": {
                "MODEL": {
                    "type": "GROUP",
                    "executionMode": "SYNC",
                    "children": [
                        {
                            "type": "STAGE",
                            "pluginType": "ModelPlugin",
                            "name": "com.openllmorchestrator.worker.plugin.llm.Llama32ChatPlugin",
                            "timeoutSeconds": 120
                        }
                    ]
                },
                "POST_PROCESS": {
                    "type": "GROUP",
                    "executionMode": "SYNC",
                    "children": [
                        {
                            "type": "STAGE",
                            "pluginType": "RefinementPlugin",
                            "name": "com.openllmorchestrator.worker.plugin.output.AnswerFormatPlugin"
                        }
                    ]
                }
            }
        },
        "both": {
            "defaultTimeoutSeconds": 120,
            "defaultAsyncCompletionPolicy": "ALL",
            "root": {
                "MODEL": {
                    "type": "GROUP",
                    "executionMode": "ASYNC",
                    "asyncCompletionPolicy": "ALL",
                    "asyncOutputMergePolicy": "ALL_MODELS_RESPONSE_FORMAT",
                    "timeoutSeconds": 180,
                    "children": [
                        {
                            "type": "STAGE",
                            "pluginType": "ModelPlugin",
                            "name": "com.openllmorchestrator.worker.plugin.llm.Llama32ChatPlugin",
                            "timeoutSeconds": 120
                        }
                    ]
                },
                "POST_PROCESS": {
                    "type": "GROUP",
                    "executionMode": "SYNC",
                    "children": [
                        {
                            "type": "STAGE",
                            "pluginType": "RefinementPlugin",
                            "name": "com.openllmorchestrator.worker.plugin.output.AnswerFormatPlugin"
                        }
                    ]
                }
            }
        },
        "rag-llama-oss": {
            "defaultTimeoutSeconds": 90,
            "defaultAsyncCompletionPolicy": "ALL",
            "root": {
                "RETRIEVAL": {
                    "type": "GROUP",
                    "executionMode": "SYNC",
                    "children": [
                        {
                            "type": "STAGE",
                            "pluginType": "VectorStorePlugin",
                            "name": "com.openllmorchestrator.worker.plugin.vectordb.VectorStoreRetrievalPlugin"
                        }
                    ]
                },
                "MODEL": {
                    "type": "GROUP",
                    "executionMode": "SYNC",
                    "children": [
                        {
                            "type": "STAGE",
                            "pluginType": "ModelPlugin",
                            "name": "com.openllmorchestrator.worker.plugin.llm.Llama32ModelPlugin",
                            "timeoutSeconds": 120
                        }
                    ]
                },
                "POST_PROCESS": {
                    "type": "GROUP",
                    "executionMode": "SYNC",
                    "children": [
                        {
                            "type": "STAGE",
                            "pluginType": "RefinementPlugin",
                            "name": "com.openllmorchestrator.worker.plugin.output.AnswerFormatPlugin"
                        }
                    ]
                }
            }
        },
        "rag-openai-oss": {
            "defaultTimeoutSeconds": 90,
            "defaultAsyncCompletionPolicy": "ALL",
            "root": {
                "RETRIEVAL": {
                    "type": "GROUP",
                    "executionMode": "SYNC",
                    "children": [
                        {
                            "type": "STAGE",
                            "pluginType": "VectorStorePlugin",
                            "name": "com.openllmorchestrator.worker.plugin.vectordb.VectorStoreRetrievalPlugin"
                        }
                    ]
                },
                "MODEL": {
                    "type": "GROUP",
                    "executionMode": "SYNC",
                    "children": [
                        {
                            "type": "STAGE",
                            "pluginType": "ModelPlugin",
                            "name": "com.openllmorchestrator.worker.plugin.llm.Llama32ModelPlugin",
                            "timeoutSeconds": 120
                        }
                    ]
                },
                "POST_PROCESS": {
                    "type": "GROUP",
                    "executionMode": "SYNC",
                    "children": [
                        {
                            "type": "STAGE",
                            "pluginType": "RefinementPlugin",
                            "name": "com.openllmorchestrator.worker.plugin.output.AnswerFormatPlugin"
                        }
                    ]
                }
            }
        },
        "rag-both": {
            "defaultTimeoutSeconds": 120,
            "defaultAsyncCompletionPolicy": "ALL",
            "root": {
                "RETRIEVAL": {
                    "type": "GROUP",
                    "executionMode": "SYNC",
                    "children": [
                        {
                            "type": "STAGE",
                            "pluginType": "VectorStorePlugin",
                            "name": "com.openllmorchestrator.worker.plugin.vectordb.VectorStoreRetrievalPlugin"
                        }
                    ]
                },
                "MODEL": {
                    "type": "GROUP",
                    "executionMode": "SYNC",
                    "children": [
                        {
                            "type": "STAGE",
                            "pluginType": "ModelPlugin",
                            "name": "com.openllmorchestrator.worker.plugin.llm.Llama32ModelPlugin",
                            "timeoutSeconds": 120
                        }
                    ]
                },
                "POST_PROCESS": {
                    "type": "GROUP",
                    "executionMode": "SYNC",
                    "children": [
                        {
                            "type": "STAGE",
                            "pluginType": "RefinementPlugin",
                            "name": "com.openllmorchestrator.worker.plugin.output.AnswerFormatPlugin"
                        }
                    ]
                }
            }
        },
        "rag-mistral": {
            "defaultTimeoutSeconds": 90,
            "defaultAsyncCompletionPolicy": "ALL",
            "root": {
                "RETRIEVAL": {
                    "type": "GROUP",
                    "executionMode": "SYNC",
                    "children": [
                        {
                            "type": "STAGE",
                            "pluginType": "VectorStorePlugin",
                            "name": "com.openllmorchestrator.worker.plugin.vectordb.VectorStoreRetrievalPlugin"
                        }
                    ]
                },
                "MODEL": {
                    "type": "GROUP",
                    "executionMode": "SYNC",
                    "children": [
                        {
                            "type": "STAGE",
                            "pluginType": "ModelPlugin",
                            "name": "com.openllmorchestrator.worker.plugin.llm.Llama32ModelPlugin",
                            "timeoutSeconds": 120
                        }
                    ]
                },
                "POST_PROCESS": {
                    "type": "GROUP",
                    "executionMode": "SYNC",
                    "children": [
                        {
                            "type": "STAGE",
                            "pluginType": "RefinementPlugin",
                            "name": "com.openllmorchestrator.worker.plugin.output.AnswerFormatPlugin"
                        }
                    ]
                }
            }
        },
        "rag-llama3.2": {
            "defaultTimeoutSeconds": 90,
            "defaultAsyncCompletionPolicy": "ALL",
            "root": {
                "RETRIEVAL": {
                    "type": "GROUP",
                    "executionMode": "SYNC",
                    "children": [
                        {
                            "type": "STAGE",
                            "pluginType": "VectorStorePlugin",
                            "name": "com.openllmorchestrator.worker.plugin.vectordb.VectorStoreRetrievalPlugin"
                        }
                    ]
                },
                "MODEL": {
                    "type": "GROUP",
                    "executionMode": "SYNC",
                    "children": [
                        {
                            "type": "STAGE",
                            "pluginType": "ModelPlugin",
                            "name": "com.openllmorchestrator.worker.plugin.llm.Llama32ModelPlugin",
                            "timeoutSeconds": 120
                        }
                    ]
                },
                "POST_PROCESS": {
                    "type": "GROUP",
                    "executionMode": "SYNC",
                    "children": [
                        {
                            "type": "STAGE",
                            "pluginType": "RefinementPlugin",
                            "name": "com.openllmorchestrator.worker.plugin.output.AnswerFormatPlugin"
                        }
                    ]
                }
            }
        },
        "rag-phi3": {
            "defaultTimeoutSeconds": 90,
            "defaultAsyncCompletionPolicy": "ALL",
            "root": {
                "RETRIEVAL": {
                    "type": "GROUP",
                    "executionMode": "SYNC",
                    "children": [
                        {
                            "type": "STAGE",
                            "pluginType": "VectorStorePlugin",
                            "name": "com.openllmorchestrator.worker.plugin.vectordb.VectorStoreRetrievalPlugin"
                        }
                    ]
                },
                "MODEL": {
                    "type": "GROUP",
                    "executionMode": "SYNC",
                    "children": [
                        {
                            "type": "STAGE",
                            "pluginType": "ModelPlugin",
                            "name": "com.openllmorchestrator.worker.plugin.llm.Llama32ModelPlugin",
                            "timeoutSeconds": 120
                        }
                    ]
                },
                "POST_PROCESS": {
                    "type": "GROUP",
                    "executionMode": "SYNC",
                    "children": [
                        {
                            "type": "STAGE",
                            "pluginType": "RefinementPlugin",
                            "name": "com.openllmorchestrator.worker.plugin.output.AnswerFormatPlugin"
                        }
                    ]
                }
            }
        },
        "rag-gemma2-2b": {
            "defaultTimeoutSeconds": 90,
            "defaultAsyncCompletionPolicy": "ALL",
            "root": {
                "RETRIEVAL": {
                    "type": "GROUP",
                    "executionMode": "SYNC",
                    "children": [
                        {
                            "type": "STAGE",
                            "pluginType": "VectorStorePlugin",
                            "name": "com.openllmorchestrator.worker.plugin.vectordb.VectorStoreRetrievalPlugin"
                        }
                    ]
                },
                "MODEL": {
                    "type": "GROUP",
                    "executionMode": "SYNC",
                    "children": [
                        {
                            "type": "STAGE",
                            "pluginType": "ModelPlugin",
                            "name": "com.openllmorchestrator.worker.plugin.llm.Llama32ModelPlugin",
                            "timeoutSeconds": 120
                        }
                    ]
                },
                "POST_PROCESS": {
                    "type": "GROUP",
                    "executionMode": "SYNC",
                    "children": [
                        {
                            "type": "STAGE",
                            "pluginType": "RefinementPlugin",
                            "name": "com.openllmorchestrator.worker.plugin.output.AnswerFormatPlugin"
                        }
                    ]
                }
            }
        },
        "rag-qwen2-1.5b": {
            "defaultTimeoutSeconds": 90,
            "defaultAsyncCompletionPolicy": "ALL",
            "root": {
                "RETRIEVAL": {
                    "type": "GROUP",
                    "executionMode": "SYNC",
                    "children": [
                        {
                            "type": "STAGE",
                            "pluginType": "VectorStorePlugin",
                            "name": "com.openllmorchestrator.worker.plugin.vectordb.VectorStoreRetrievalPlugin"
                        }
                    ]
                },
                "MODEL": {
                    "type": "GROUP",
                    "executionMode": "SYNC",
                    "children": [
                        {
                            "type": "STAGE",
                            "pluginType": "ModelPlugin",
                            "name": "com.openllmorchestrator.worker.plugin.llm.Llama32ModelPlugin",
                            "timeoutSeconds": 120
                        }
                    ]
                },
                "POST_PROCESS": {
                    "type": "GROUP",
                    "executionMode": "SYNC",
                    "children": [
                        {
                            "type": "STAGE",
                            "pluginType": "RefinementPlugin",
                            "name": "com.openllmorchestrator.worker.plugin.output.AnswerFormatPlugin"
                        }
                    ]
                }
            }
        },
        "chat-mistral": {
            "defaultTimeoutSeconds": 90,
            "defaultAsyncCompletionPolicy": "ALL",
            "root": {
                "MODEL": {
                    "type": "GROUP",
                    "executionMode": "SYNC",
                    "children": [
                        {
                            "type": "STAGE",
                            "pluginType": "ModelPlugin",
                            "name": "com.openllmorchestrator.worker.plugin.llm.MistralChatPlugin",
                            "timeoutSeconds": 120
                        }
                    ]
                },
                "POST_PROCESS": {
                    "type": "GROUP",
                    "executionMode": "SYNC",
                    "children": [
                        {
                            "type": "STAGE",
                            "pluginType": "RefinementPlugin",
                            "name": "com.openllmorchestrator.worker.plugin.output.AnswerFormatPlugin"
                        }
                    ]
                }
            }
        },
        "chat-llama3.2": {
            "defaultTimeoutSeconds": 90,
            "defaultAsyncCompletionPolicy": "ALL",
            "root": {
                "MODEL": {
                    "type": "GROUP",
                    "executionMode": "SYNC",
                    "children": [
                        {
                            "type": "STAGE",
                            "pluginType": "ModelPlugin",
                            "name": "com.openllmorchestrator.worker.plugin.llm.Llama32FixedChatPlugin",
                            "timeoutSeconds": 120
                        }
                    ]
                },
                "POST_PROCESS": {
                    "type": "GROUP",
                    "executionMode": "SYNC",
                    "children": [
                        {
                            "type": "STAGE",
                            "pluginType": "RefinementPlugin",
                            "name": "com.openllmorchestrator.worker.plugin.output.AnswerFormatPlugin"
                        }
                    ]
                }
            }
        },
        "chat-phi3": {
            "defaultTimeoutSeconds": 90,
            "defaultAsyncCompletionPolicy": "ALL",
            "root": {
                "MODEL": {
                    "type": "GROUP",
                    "executionMode": "SYNC",
                    "children": [
                        {
                            "type": "STAGE",
                            "pluginType": "ModelPlugin",
                            "name": "com.openllmorchestrator.worker.plugin.llm.Phi3ChatPlugin",
                            "timeoutSeconds": 120
                        }
                    ]
                },
                "POST_PROCESS": {
                    "type": "GROUP",
                    "executionMode": "SYNC",
                    "children": [
                        {
                            "type": "STAGE",
                            "pluginType": "RefinementPlugin",
                            "name": "com.openllmorchestrator.worker.plugin.output.AnswerFormatPlugin"
                        }
                    ]
                }
            }
        },
        "chat-gemma2-2b": {
            "defaultTimeoutSeconds": 90,
            "defaultAsyncCompletionPolicy": "ALL",
            "root": {
                "MODEL": {
                    "type": "GROUP",
                    "executionMode": "SYNC",
                    "children": [
                        {
                            "type": "STAGE",
                            "pluginType": "ModelPlugin",
                            "name": "com.openllmorchestrator.worker.plugin.llm.Gemma2_2bChatPlugin",
                            "timeoutSeconds": 120
                        }
                    ]
                },
                "POST_PROCESS": {
                    "type": "GROUP",
                    "executionMode": "SYNC",
                    "children": [
                        {
                            "type": "STAGE",
                            "pluginType": "RefinementPlugin",
                            "name": "com.openllmorchestrator.worker.plugin.output.AnswerFormatPlugin"
                        }
                    ]
                }
            }
        },
        "chat-qwen2-1.5b": {
            "defaultTimeoutSeconds": 90,
            "defaultAsyncCompletionPolicy": "ALL",
            "root": {
                "MODEL": {
                    "type": "GROUP",
                    "executionMode": "SYNC",
                    "children": [
                        {
                            "type": "STAGE",
                            "pluginType": "ModelPlugin",
                            "name": "com.openllmorchestrator.worker.plugin.llm.Qwen2_1_5bChatPlugin",
                            "timeoutSeconds": 120
                        }
                    ]
                },
                "POST_PROCESS": {
                    "type": "GROUP",
                    "executionMode": "SYNC",
                    "children": [
                        {
                            "type": "STAGE",
                            "pluginType": "RefinementPlugin",
                            "name": "com.openllmorchestrator.worker.plugin.output.AnswerFormatPlugin"
                        }
                    ]
                }
            }
        },
        "query-all-models": {
            "defaultTimeoutSeconds": 180,
            "defaultAsyncCompletionPolicy": "ALL",
            "root": {
                "MODEL": {
                    "type": "GROUP",
                    "executionMode": "ASYNC",
                    "asyncCompletionPolicy": "ALL",
                    "asyncOutputMergePolicy": "ALL_MODELS_RESPONSE_FORMAT",
                    "timeoutSeconds": 180,
                    "children": [
                        {
                            "type": "STAGE",
                            "pluginType": "ModelPlugin",
                            "name": "com.openllmorchestrator.worker.plugin.llm.Llama32ChatPlugin",
                            "timeoutSeconds": 120
                        },
                        {
                            "type": "STAGE",
                            "pluginType": "ModelPlugin",
                            "name": "com.openllmorchestrator.worker.plugin.llm.MistralChatPlugin",
                            "timeoutSeconds": 120
                        },
                        {
                            "type": "STAGE",
                            "pluginType": "ModelPlugin",
                            "name": "com.openllmorchestrator.worker.plugin.llm.Llama32FixedChatPlugin",
                            "timeoutSeconds": 120
                        },
                        {
                            "type": "STAGE",
                            "pluginType": "ModelPlugin",
                            "name": "com.openllmorchestrator.worker.plugin.llm.Phi3ChatPlugin",
                            "timeoutSeconds": 120
                        },
                        {
                            "type": "STAGE",
                            "pluginType": "ModelPlugin",
                            "name": "com.openllmorchestrator.worker.plugin.llm.Gemma2_2bChatPlugin",
                            "timeoutSeconds": 120
                        },
                        {
                            "type": "STAGE",
                            "pluginType": "ModelPlugin",
                            "name": "com.openllmorchestrator.worker.plugin.llm.Qwen2_1_5bChatPlugin",
                            "timeoutSeconds": 120
                        }
                    ]
                }
            }
        }
    }
}